{{ define "componentBody" }}
<div class="my-3 p-3 bg-body rounded shadow-sm">
    <h6 class="border-bottom pb-2 mb-0 container">Add & Edit Categories</h6>
    <div class="d-flex text-body-secondary pt-3">
        <div class="container">
            <form hx-post="/actions/administration/category" hx-swap="innerHTML" hx-trigger="submit" hx-target="#addCategoryActionResponse">
                <div class="mb-3">
                    <label for="inputName" class="form-label">Category Name</label>
                    <input type="text" class="form-control" id="inputName" name="inputName" placeholder="Enter category name">
                </div>
                <div class="mb-3">
                    <label for="inputDescription" class="form-label">Category Description</label>
                    <textarea class="form-control" id="inputDescription" name="inputDescription" rows="3" placeholder="Enter category description"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Add Category</button>
            </form>
            <div id="addCategoryActionResponse" class="mt-3"></div>
            <table class="table mt-4">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {{ range .Categories }}
                    <tr>
                        <td>{{ .ID }}</td>
                        <td>{{ .Name }}</td>
                        <td>{{ .Description }}</td>
                        <td>
                            <button type="submit" class="btn btn-primary" hx-swap="innerHTML" hx-trigger="click" hx-target="#editCategoryComponent" hx-get="/components/administration/editCategory/{{ .ID }}">Edit</button>
                            <button type="submit" class="btn btn-danger" hx-delete="/actions/administration/category/{{ .ID }}" hx-confirm="Are you sure you want to delete '{{ .Name }}' and all of it's posts?" hx-swap="innerHTML" hx-trigger="click" hx-target="#editCategoryComponent">Delete</button>
                        </td>
                    </tr>
                    {{ end }}
                </tbody>
            </table>
            <div id="editCategoryComponent"></div>
        </div>
    </div>
</div>
{{ end }}